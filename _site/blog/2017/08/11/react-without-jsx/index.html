<!DOCTYPE html>
<html lang="en">
<head>


<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Brian Mock">
<meta name="description" content="A quick overview on using React without JSX or any build tools">
<meta name="theme-color" content="#e8fdf5">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@wavebeem">
<meta name="twitter:creator" content="@wavebeem">
<meta name="og:title" content="React Without JSX">
<meta name="og:description" content="A quick overview on using React without JSX or any build tools">
<meta name="og:image" content="https://mockbrian.com/brian.png">

<title>React Without JSX</title>

<link rel="stylesheet" media="screen" href="/tachyons.min.css?t=1563254458666645000">
<link rel="stylesheet" media="screen" href="/style.css?t=1563254458666645000">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  (function(host) {
    var ids = {
      "dev.mockbrian.com": "UA-52704502-2",
      "mockbrian.com": "UA-52704502-1",
    };
    if (host in ids) {
      ga("create", ids[host], "auto");
      ga("send", "pageview");
    }
  }(window.location.host));
</script>

</head>
<body class="flex flex-column min-vh-100 bg-washed-green lh-copy helvetica">

<div class="flex-auto">





<!-- Small nav -->
<div class="dn-ns">
  <nav class="f3 flex flex-column mb4 bb dark-pink bw1 b--black-10">
    <a class="pa3 hover-bg-white-40 hover-bottomline link color-inherit pv2 ph3 flex-auto hover-outline b" href="/">Brian Mock</a>
    <a class="pa3 hover-bg-white-40 hover-bottomline link color-inherit pv2 ph3 flex-auto hover-outline" href="/">Home</a>
    <a class="pa3 hover-bg-white-40 hover-bottomline link color-inherit pv2 ph3 flex-auto hover-outline" href="/blog">Blog</a>
    <a class="pa3 hover-bg-white-40 hover-bottomline link color-inherit pv2 ph3 flex-auto hover-outline" href="/resume">Resume</a>
  </nav>
</div>

<!-- Big nav -->
<div class="dn db-ns">
  <nav class="f3 flex mb4 items-center bb dark-pink bw1 b--black-10">
    <a class="pa3 hover-bg-white-40 hover-bottomline link color-inherit b" href="/">Brian Mock</a>
    <a class="pa3 hover-bg-white-40 hover-bottomline link color-inherit" href="/">Home</a>
    <a class="pa3 hover-bg-white-40 hover-bottomline link color-inherit" href="/blog">Blog</a>
    <a class="pa3 hover-bg-white-40 hover-bottomline link color-inherit" href="/resume">Resume</a>
  </nav>
</div>


<main class="ph4-ns ph3 center flex-auto lh-copy Content">
  <h1 class="ma0 f1-ns f2 lh-title">
    <a href="#">React Without JSX</a>
  </h1>
  <p class="ma0 helvetica">August 11, 2017</p>

  <h2>Misconceptions about React</h2>

<p>The discourse around React would lead you to believe you need to get started with Babel, Webpack, source maps, and all kinds of complex tooling to use React, but you actually can drop React into any existing page pretty easily. It could be fully server-side rendered from Rails, a mix with jQuery in it, or even a front-end app written with another framework entirely.</p>

<p>The documentation on <a href="https://facebook.github.io/react/">the React site</a> won&#39;t lead you there, but it&#39;s a surprisingly simple route if you want to take it.</p>

<h2>Minimal React &quot;Hello World&quot;</h2>

<p><strong>index.html</strong></p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/react/15.6.1/react.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/react/15.6.1/react-dom.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"react-root"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"main.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p><strong>main.js</strong></p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">R</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">R</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">"Hello, world!"</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"react-root"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">R</span><span class="p">(</span><span class="nx">App</span><span class="p">);</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">root</span><span class="p">);</span>
</code></pre></div>
<h2>One more thing</h2>

<p>React functional components like <code>App</code> are great because you don&#39;t need to use classes or mess around with the <code>this</code> keyword, but sometimes you do need actual state in your component. If you&#39;re targeting ES6-enabled browsers, you can natively use ES6 classes:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">App</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Or you can use the old helper function <code>React.createClass</code>:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">App</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h2>How does it scale?</h2>

<p>You might be wondering how this style looks if you scale it up to a larger application. Well, I&#39;ve written a <a href="https://github.com/wavebeem/screenhive/tree/master/app/src">React app without JSX once</a>, and honestly it looked even nicer than with JSX, I think.</p>

<p>To keep things readable, here&#39;s a simplified example:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">R</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">TextScreen</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">R</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span> <span class="p">{},</span>
    <span class="s2">"Here's some text to read!"</span><span class="p">,</span>
    <span class="nx">R</span><span class="p">(</span><span class="s2">"button"</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">className</span><span class="p">:</span> <span class="s2">"btn btn-large"</span><span class="p">,</span>
      <span class="na">onClick</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">props</span><span class="p">.</span><span class="nx">goNext</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="s2">"Next"</span><span class="p">)</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2>ES6 &gt; JSX</h2>

<p>If you can use ES6 in your app, things end up looking even nicer than JSX code since you can grab all your props in the argument list and write <code>{ className: className }</code> as simply <code>{ className }</code>. Also, it helps to break things up with variables, something I don&#39;t see a lot of in React code with JSX.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">R</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">TextScreen</span><span class="p">({</span> <span class="nx">goNext</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">onClick</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">goNext</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="kr">const</span> <span class="nx">className</span> <span class="o">=</span> <span class="s2">"btn btn-large"</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">"Next"</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">mainButton</span> <span class="o">=</span> <span class="nx">R</span><span class="p">(</span><span class="s2">"button"</span><span class="p">,</span> <span class="p">{</span><span class="nx">className</span><span class="p">,</span> <span class="nx">onClick</span><span class="p">},</span> <span class="nx">text</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">R</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span> <span class="p">{},</span> <span class="s2">"Here's some text to read!"</span><span class="p">,</span> <span class="nx">mainButton</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h2>It doesn&#39;t look like HTML!</h2>

<p>The main problem with this is it doesn&#39;t look like HTML any more. But in my mind, that&#39;s a good thing. It&#39;s easier to type this way, faster to read, and you don&#39;t have to worry about tools that don&#39;t know how to process JSX.</p>

<h2>Shrug &quot;emoji&quot;</h2>

<p>It may not be for you, and frankly the ship has kinda already sailed and JSX is super popular, but it&#39;s worth mentioning that code can look really good without it. Hope you enjoyed seeing simpler route React offers.</p>

<p><strong>NOTE:</strong> I&#39;m well aware of the many reasons to use bundlers and build tooling, and frequently make use of them myself. I just figured it was worth mentioning that you don&#39;t <em>have</em> to use them.</p>


  <div class="helvetica f3 mv4">
    <a
      class="ba bw1 br2 dark-pink db pv2 ph3 hover-bg-white-40 no-underline"
      href="/blog"
    >
      &lsaquo; Read other posts
    </a>
  </div>
</main>

<script type="module">
  // I would prefer to generate links for my h2 and h3 elements at build time,
  // but I can't figure out a good way to make Jekyll do that, sadly
  function slug(text) {
    return text
      .trim()
      .toLowerCase()
      .replace(/\'/gi, "")
      .replace(/[^a-z0-9]/gi, "-")
      .replace(/-{2,}/g, "-")
      .replace(/^-+|-+$/gm, "")
      .substring(0, 64);
  }

  for (const h of document.querySelectorAll("h2, h3")) {
    h.id = h.id || slug(h.textContent);
    h.innerHTML = "<a href='#" + h.id + "'>" + h.innerHTML + "</a>";
  }
</script>


</div>

<footer class="black-70 tc helvetica ph3 pv3 bt bw1 b--black-10 f4">
  &copy; 2019 Brian Mock
</footer>


</body>
</html>
